{"version":3,"file":"ReportDetailsPage.esm.js","sources":["../../../src/components/ReportDetailsPage/ReportDetailsPage.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Link as RouterLink, useParams } from 'react-router-dom';\nimport { Breadcrumbs, Link } from '@backstage/core-components';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { puppetDbRouteRef } from '../../routes';\nimport React, { useState } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Tabs from '@material-ui/core/Tabs';\nimport { ReportDetailsEventsTable } from './ReportDetailsEventsTable';\nimport { ReportDetailsLogsTable } from './ReportDetailsLogsTable';\n\nconst useStyles = makeStyles(theme => ({\n  cards: {\n    marginTop: theme.spacing(2),\n  },\n  tabs: {\n    borderBottom: `1px solid ${theme.palette.textVerySubtle}`,\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(0, 4),\n  },\n  default: {\n    padding: theme.spacing(2),\n    fontWeight: theme.typography.fontWeightBold,\n    color: theme.palette.text.secondary,\n    textTransform: 'uppercase',\n  },\n  selected: {\n    color: theme.palette.text.primary,\n  },\n}));\n\n/**\n * Component for displaying the details of a PuppetDB report.\n *\n * @public\n */\nexport const ReportDetailsPage = () => {\n  const { hash = '' } = useParams();\n  const classes = useStyles();\n  const [tabIndex, setTabIndex] = useState(0);\n  const reportsRouteLink = useRouteRef(puppetDbRouteRef);\n  const tabs = [\n    { id: 'events', label: 'Events' },\n    { id: 'logs', label: 'Logs' },\n  ];\n  const safeTabIndex = tabIndex > tabs.length - 1 ? 0 : tabIndex;\n\n  return (\n    <div>\n      <Breadcrumbs aria-label=\"breadcrumb\">\n        <Link component={RouterLink} to={reportsRouteLink()}>\n          PuppetDB Reports\n        </Link>\n        <Typography noWrap>{hash}</Typography>\n      </Breadcrumbs>\n      <Card\n        style={{ position: 'relative', overflow: 'visible' }}\n        className={classes.cards}\n      >\n        <CardContent>\n          <Tabs\n            indicatorColor=\"primary\"\n            onChange={(_, index) => setTabIndex(index)}\n            value={safeTabIndex}\n          >\n            {tabs.map((tab, index) => (\n              <Tab\n                className={classes.default}\n                label={tab.label}\n                key={tab.id}\n                value={index}\n                classes={{ selected: classes.selected }}\n              />\n            ))}\n          </Tabs>\n          <Box ml={2} pt={2} my={1} display=\"flex\" flexDirection=\"column\">\n            {safeTabIndex === 0 && <ReportDetailsEventsTable hash={hash} />}\n            {safeTabIndex === 1 && <ReportDetailsLogsTable hash={hash} />}\n          </Box>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n"],"names":["RouterLink"],"mappings":"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"}