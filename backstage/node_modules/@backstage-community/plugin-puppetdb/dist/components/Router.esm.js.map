{"version":3,"file":"Router.esm.js","sources":["../../src/components/Router.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { puppetDbReportRouteRef } from '../routes';\nimport { ANNOTATION_PUPPET_CERTNAME } from '../constants';\nimport { Entity } from '@backstage/catalog-model';\nimport {\n  useEntity,\n  MissingAnnotationEmptyState,\n} from '@backstage/plugin-catalog-react';\nimport { ReportsPage } from './ReportsPage';\nimport { ReportDetailsPage } from './ReportDetailsPage';\n\n/**\n * Checks if the entity has a puppet certname annotation.\n * @param entity - The entity to check for the puppet certname annotation.\n *\n * @public\n */\nexport const isPuppetDbAvailable = (entity: Entity) =>\n  Boolean(entity.metadata.annotations?.[ANNOTATION_PUPPET_CERTNAME]);\n\n/** @public */\nexport const Router = () => {\n  const { entity } = useEntity();\n\n  if (!isPuppetDbAvailable(entity)) {\n    return (\n      <MissingAnnotationEmptyState annotation={ANNOTATION_PUPPET_CERTNAME} />\n    );\n  }\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<ReportsPage />} />\n      <Route\n        path={`${puppetDbReportRouteRef.path}`}\n        element={<ReportDetailsPage />}\n      />\n    </Routes>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;AAkCa,MAAA,mBAAA,GAAsB,CAAC,MAClC,KAAA,OAAA,CAAQ,OAAO,QAAS,CAAA,WAAA,GAAc,0BAA0B,CAAC,EAAA;AAG5D,MAAM,SAAS,MAAM;AAC1B,EAAM,MAAA,EAAE,MAAO,EAAA,GAAI,SAAU,EAAA,CAAA;AAE7B,EAAI,IAAA,CAAC,mBAAoB,CAAA,MAAM,CAAG,EAAA;AAChC,IACE,uBAAA,KAAA,CAAA,aAAA,CAAC,2BAA4B,EAAA,EAAA,UAAA,EAAY,0BAA4B,EAAA,CAAA,CAAA;AAAA,GAEzE;AAEA,EACE,uBAAA,KAAA,CAAA,aAAA,CAAC,MACC,EAAA,IAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,KAAM,EAAA,EAAA,IAAA,EAAK,KAAI,OAAS,kBAAA,KAAA,CAAA,aAAA,CAAC,WAAY,EAAA,IAAA,CAAA,EAAI,CAC1C,kBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAM,CAAG,EAAA,sBAAA,CAAuB,IAAI,CAAA,CAAA;AAAA,MACpC,OAAA,sCAAU,iBAAkB,EAAA,IAAA,CAAA;AAAA,KAAA;AAAA,GAEhC,CAAA,CAAA;AAEJ;;;;"}