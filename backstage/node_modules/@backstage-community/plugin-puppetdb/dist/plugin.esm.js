import { createPlugin, createApiFactory, discoveryApiRef, fetchApiRef, createRoutableExtension } from '@backstage/core-plugin-api';
import { puppetDbApiRef } from './api/types.esm.js';
import { PuppetDbClient } from './api/PuppetDbClient.esm.js';
import { puppetDbRouteRef } from './routes.esm.js';

const puppetdbPlugin = createPlugin({
  id: "puppetDb",
  apis: [
    createApiFactory({
      api: puppetDbApiRef,
      deps: { discoveryApi: discoveryApiRef, fetchApi: fetchApiRef },
      factory: ({ discoveryApi, fetchApi }) => new PuppetDbClient({ discoveryApi, fetchApi })
    })
  ]
});
const PuppetDbPage = puppetdbPlugin.provide(
  createRoutableExtension({
    name: "PuppetDbPage",
    component: () => import('./components/Router.esm.js').then((m) => m.Router),
    mountPoint: puppetDbRouteRef
  })
);

export { PuppetDbPage, puppetdbPlugin };
//# sourceMappingURL=plugin.esm.js.map
