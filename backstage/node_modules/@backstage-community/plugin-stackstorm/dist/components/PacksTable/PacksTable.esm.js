import React from 'react';
import { Progress, ResponseErrorPanel, Table } from '@backstage/core-components';
import useAsync from 'react-use/esm/useAsync';
import { useApi } from '@backstage/core-plugin-api';
import { stackstormApiRef } from '../../api/types.esm.js';
import '@backstage/errors';

const DenseTable = ({ packs }) => {
  const columns = [
    { title: "Name", field: "ref" },
    { title: "Description", field: "description" },
    { title: "Version", field: "version" }
  ];
  return /* @__PURE__ */ React.createElement(
    Table,
    {
      title: "Packs",
      options: { search: true, paging: false },
      columns,
      data: packs
    }
  );
};
const PacksTable = () => {
  const st2 = useApi(stackstormApiRef);
  const { value, loading, error } = useAsync(async () => {
    const data = await st2.getPacks();
    return data;
  }, []);
  if (loading) {
    return /* @__PURE__ */ React.createElement(Progress, null);
  } else if (error) {
    return /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error });
  }
  return /* @__PURE__ */ React.createElement(DenseTable, { packs: value || [] });
};

export { DenseTable, PacksTable };
//# sourceMappingURL=PacksTable.esm.js.map
