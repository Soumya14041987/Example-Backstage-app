{"version":3,"file":"PacksTable.esm.js","sources":["../../../src/components/PacksTable/PacksTable.tsx"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport {\n  Progress,\n  ResponseErrorPanel,\n  Table,\n  TableColumn,\n} from '@backstage/core-components';\nimport useAsync from 'react-use/esm/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { Pack, stackstormApiRef } from '../../api';\n\ntype DenseTableProps = {\n  packs: Pack[];\n};\n\nexport const DenseTable = ({ packs }: DenseTableProps) => {\n  const columns: TableColumn[] = [\n    { title: 'Name', field: 'ref' },\n    { title: 'Description', field: 'description' },\n    { title: 'Version', field: 'version' },\n  ];\n\n  return (\n    <Table\n      title=\"Packs\"\n      options={{ search: true, paging: false }}\n      columns={columns}\n      data={packs}\n    />\n  );\n};\n\nexport const PacksTable = () => {\n  const st2 = useApi(stackstormApiRef);\n\n  const { value, loading, error } = useAsync(async (): Promise<Pack[]> => {\n    const data = await st2.getPacks();\n    return data;\n  }, []);\n\n  if (loading) {\n    return <Progress />;\n  } else if (error) {\n    return <ResponseErrorPanel error={error} />;\n  }\n\n  return <DenseTable packs={value || []} />;\n};\n"],"names":[],"mappings":";;;;;;;AA8BO,MAAM,UAAa,GAAA,CAAC,EAAE,KAAA,EAA6B,KAAA;AACxD,EAAA,MAAM,OAAyB,GAAA;AAAA,IAC7B,EAAE,KAAA,EAAO,MAAQ,EAAA,KAAA,EAAO,KAAM,EAAA;AAAA,IAC9B,EAAE,KAAA,EAAO,aAAe,EAAA,KAAA,EAAO,aAAc,EAAA;AAAA,IAC7C,EAAE,KAAA,EAAO,SAAW,EAAA,KAAA,EAAO,SAAU,EAAA;AAAA,GACvC,CAAA;AAEA,EACE,uBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,KAAM,EAAA,OAAA;AAAA,MACN,OAAS,EAAA,EAAE,MAAQ,EAAA,IAAA,EAAM,QAAQ,KAAM,EAAA;AAAA,MACvC,OAAA;AAAA,MACA,IAAM,EAAA,KAAA;AAAA,KAAA;AAAA,GACR,CAAA;AAEJ,EAAA;AAEO,MAAM,aAAa,MAAM;AAC9B,EAAM,MAAA,GAAA,GAAM,OAAO,gBAAgB,CAAA,CAAA;AAEnC,EAAA,MAAM,EAAE,KAAO,EAAA,OAAA,EAAS,KAAM,EAAA,GAAI,SAAS,YAA6B;AACtE,IAAM,MAAA,IAAA,GAAO,MAAM,GAAA,CAAI,QAAS,EAAA,CAAA;AAChC,IAAO,OAAA,IAAA,CAAA;AAAA,GACT,EAAG,EAAE,CAAA,CAAA;AAEL,EAAA,IAAI,OAAS,EAAA;AACX,IAAA,2CAAQ,QAAS,EAAA,IAAA,CAAA,CAAA;AAAA,aACR,KAAO,EAAA;AAChB,IAAO,uBAAA,KAAA,CAAA,aAAA,CAAC,sBAAmB,KAAc,EAAA,CAAA,CAAA;AAAA,GAC3C;AAEA,EAAA,uBAAQ,KAAA,CAAA,aAAA,CAAA,UAAA,EAAA,EAAW,KAAO,EAAA,KAAA,IAAS,EAAI,EAAA,CAAA,CAAA;AACzC;;;;"}