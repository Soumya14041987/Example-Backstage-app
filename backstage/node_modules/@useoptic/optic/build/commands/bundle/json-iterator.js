"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.jsonIterator = jsonIterator;
var _jsonPointerHelpers = require("@useoptic/json-pointer-helpers");
function* jsonIterator(obj, path = _jsonPointerHelpers.jsonPointerHelpers.compile([])) {
  if (Array.isArray(obj)) {
    for (let i = 0; i < obj.length; i++) {
      const newPath = _jsonPointerHelpers.jsonPointerHelpers.append(path, i.toString());
      yield* jsonIterator(obj[i], newPath);
    }
  } else if (typeof obj === 'object' && obj !== null) {
    for (const key in obj) {
      if (obj.hasOwnProperty(key)) {
        const newPath = _jsonPointerHelpers.jsonPointerHelpers.append(path, key);
        yield* jsonIterator(obj[key], newPath);
      }
    }
  }
  yield {
    pointer: path,
    value: obj
  };
}