"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.newSchemaPatch = newSchemaPatch;
var _schema = require("../schema");
var _patchOperations = require("../../../patch-operations");
function newSchemaPatch(schema, typelessSchema, interaction, shapeContext) {
  let groupedOperations = [..._schema.Schema.mergeOperations(typelessSchema, schema)];
  return {
    description: 'add schema object',
    diff: undefined,
    impact: [_patchOperations.PatchImpact.Addition, !shapeContext.location ? _patchOperations.PatchImpact.BackwardsCompatibilityUnknown : 'inResponse' in shapeContext.location ? _patchOperations.PatchImpact.BackwardsCompatible : _patchOperations.PatchImpact.BackwardsIncompatible // @acunnife, adding a new body to an existing request is backwards-incompatible, right?
    ],
    groupedOperations,
    shouldRegeneratePatches: false,
    interaction
  };
}