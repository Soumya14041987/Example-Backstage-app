import { PatchImpact, PatchOperation } from '../../patch-operations';
import { FlatOpenAPIV3, FlatOpenAPIV3_1 } from '@useoptic/openapi-utilities';
import { ShapeDiffResult, UnpatchableDiff } from '../../patchers/shapes/diff';
import { ShapePatch } from '../../patchers/shapes/patches';
import { DocumentedBodies, ShapeLocation } from '../../patchers/shapes/documented-bodies';
import { CapturedInteraction } from '../../../sources/captured-interactions';
import { SupportedOpenAPIVersions } from '@useoptic/openapi-io';
import { DocumentedInteraction, Operation } from '../../../../oas/operations';
import { OperationPatch } from './operations';
import { OperationDiffResult } from './types';
export interface SpecPatch {
    description: string;
    path: string;
    diff: ShapeDiffResult | OperationDiffResult | undefined;
    impact: PatchImpact[];
    groupedOperations: PatchOperation[];
    interaction?: CapturedInteraction;
}
export { PatchImpact };
export type { PatchOperation as Operation };
export declare class SpecPatch {
    static fromShapePatch(shapePatch: ShapePatch, bodySpecPath: string, location: ShapeLocation): SpecPatch;
    static fromOperationPatch(operationPatch: OperationPatch, interaction: CapturedInteraction, operationSpecPath: string): SpecPatch;
    static applyPatch(patch: SpecPatch, spec: FlatOpenAPIV3.Document | FlatOpenAPIV3_1.Document): FlatOpenAPIV3.Document<{}> | FlatOpenAPIV3_1.Document<{}>;
    static operations(patch: Pick<ShapePatch, 'groupedOperations'>): IterableIterator<PatchOperation>;
}
export interface SpecPatches extends AsyncIterable<SpecPatch> {
}
export declare class SpecPatches {
    static shapeAdditions(documentedBodies: DocumentedBodies, openAPIVersion: SupportedOpenAPIVersions): AsyncIterable<SpecPatch | UnpatchableDiff>;
    static operationAdditions(documentedInteraction: DocumentedInteraction): AsyncGenerator<SpecPatch, void, unknown>;
    static requestAdditions(interaction: CapturedInteraction, operation: Operation): SpecPatches;
    static responseAdditions(interaction: CapturedInteraction, operation: Operation): SpecPatches;
}
//# sourceMappingURL=patches.d.ts.map