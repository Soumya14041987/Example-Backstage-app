"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.readDeferencedSpec = readDeferencedSpec;
var _openapiIo = require("@useoptic/openapi-io");
var _tsResults = require("ts-results");
async function readDeferencedSpec(path) {
  try {
    return (0, _tsResults.Ok)(await (0, _openapiIo.parseOpenAPIWithSourcemap)(path));
  } catch (err) {
    if (err instanceof _openapiIo.JSONParserError) {
      return (0, _tsResults.Err)(err);
    } else {
      // all errors should be considered unrecoverable, so panic (throw)
      throw err;
    }
  }
}