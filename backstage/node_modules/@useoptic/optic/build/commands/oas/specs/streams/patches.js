"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LegacySpecPatches = void 0;
var _asyncTools = require("../../lib/async-tools");
var _patches = require("../../../capture/patches/patchers/spec/patches");
var _template = require("../patches/generators/template");
var _generators = require("../patches/generators");
class LegacySpecPatches {
  static async *additions(patches) {
    yield* (0, _asyncTools.filter)(patch => patch.impact.includes(_patches.PatchImpact.Addition) || patch.impact.includes(_patches.PatchImpact.Refactor))(patches);
  }
  static async *operations(patches) {
    yield* (0, _asyncTools.flatMap)(async function* (patch) {
      for (let op of patch.groupedOperations) {
        yield op;
      }
    })(patches);
  }
  static async *generateByTemplate(spec, template, options) {
    yield* (0, _template.templatePatches)(spec, template, options);
  }
  static async *generateForNewSpec(info, openAPIVersion = '3.0.3') {
    yield* (0, _generators.newSpecPatches)(info, openAPIVersion);
  }
  static *undocumentedOperation(undocumentedOperation) {
    let patches = (0, _generators.undocumentedOperationPatches)(undocumentedOperation);
    yield* patches;
  }
  static *newSpec(info, openAPIversion = '3.0.3') {
    yield* (0, _generators.newSpecPatches)(info, openAPIversion);
  }
}
exports.LegacySpecPatches = LegacySpecPatches;