"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.openUrl = void 0;
var _promises = _interopRequireDefault(require("node:fs/promises"));
var _open = _interopRequireDefault(require("open"));
var _os = _interopRequireDefault(require("os"));
var _path = _interopRequireDefault(require("path"));
const tmpDirectory = _os.default.tmpdir();
const openUrl = async url => {
  const tmpHtmlPath = _path.default.join(tmpDirectory, 'optic', 'tmp-web.html');
  await _promises.default.mkdir(_path.default.dirname(tmpHtmlPath), {
    recursive: true
  });
  await _promises.default.writeFile(tmpHtmlPath, `<!DOCTYPE html><html><body><script type="text/javascript">window.location.replace("${url}")</script></body></html>`);
  await (0, _open.default)(tmpHtmlPath);
};
exports.openUrl = openUrl;